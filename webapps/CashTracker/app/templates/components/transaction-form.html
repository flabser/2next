<div class="form-wrapper">
    <form {{action 'save' on='submit' }}>
        <header class="form-header">
            <h1 class="header-title">
                <button class="btn-back" {{action 'cancel'}}>
                    <i class="fa fa-chevron-left"></i>
                </button>
                {{t 'transaction'}}
            </h1>
        </header>
        <section class="form-content">
            <fieldset class="fieldset">
                <div class="form-group {{if errors.name 'has-error'}}">
                    <div class="controls">
                        <label>
                            {{tn-input-radio
                                value='E'
                                groupValue=transaction.transactionType}}
                            {{t 'expense'}}
                        </label>
                        <label>
                            {{tn-input-radio
                                value='I'
                                groupValue=transaction.transactionType}}
                            {{t 'income'}}
                        </label>
                        <label>
                            {{tn-input-radio
                                value='T'
                                groupValue=transaction.transactionType}}
                            {{t 'transfer'}}
                        </label>
                    </div>
                </div>
                <div class="form-group {{if errors.date 'has-error'}}">
                    <div class="control-label">
                        {{t 'date'}}
                    </div>
                    <div class="controls">
                        {{input type='date' value=transaction.date}}
                        {{#each errors.date as |error|}}
                            <div class="error-message">{{error.message}}</div>
                        {{/each}}
                    </div>
                </div>
                <div class="form-group {{if errors.accountFrom 'has-error'}}">
                    <div class="control-label">
                        {{#if isTransfer}}
                            {{t 'account_from'}}
                        {{else}}
                            {{t 'account'}}
                        {{/if}}
                    </div>
                    <div class="controls">
                        {{select-2
                            content='accounts'
                            value=transaction.accountFrom
                            optionValuePath='content.id'
                            optionLabelPath='content.name'
                            placeholder='account_from'
                        }}
                        {{#each errors.accountFrom as |error|}}
                            <div class="error-message">{{error.message}}</div>
                        {{/each}}
                    </div>
                </div>

                {{#if isTransfer}}
                    <div class="form-group {{if errors.accountTo 'has-error'}}">
                        <div class="control-label">
                            {{t 'account_to'}}
                        </div>
                        <div class="controls">
                            {{select-2
                                content='accounts'
                                value=transaction.accountTo
                                optionValuePath='content.id'
                                optionLabelPath='content.name'
                                placeholder='account_to'
                            }}
                            {{#each errors.accountTo as |error|}}
                                <div class="error-message">{{error.message}}</div>
                            {{/each}}
                        </div>
                    </div>
                {{/if}}

                <div class="form-group">
                    <div class="control-label">
                        {{t 'category'}}
                    </div>
                    <div class="controls">
                        {{select-2
                            content='categories'
                            value=transaction.category
                            optionValuePath='content.id'
                            optionLabelPath='content.name'
                            placeholder='Category'
                        }}
                    </div>
                </div>
                <div class="form-group {{if errors.amount 'has-error'}}">
                    <div class="control-label">
                        {{t 'amount'}}
                    </div>
                    <div class="controls">
                        {{input type='number' value=transaction.amount key-up='validateAmount'}}
                        {{#each errors.amount as |error|}}
                            <div class="error-message">{{error.message}}</div>
                        {{/each}}
                    </div>
                </div>
                <div class="form-group">
                    <div class="control-label">
                        {{t 'cost_center'}}
                    </div>
                    <div class="controls">
                        {{select-2
                            content='costCenters'
                            value=transaction.costCenter
                            optionValuePath='content.id'
                            optionLabelPath='content.name'
                            placeholder='Cost center'
                        }}
                    </div>
                </div>
                <div class="form-group">
                    <div class="control-label">
                        {{t 'tags'}}
                    </div>
                    <div class="controls">
                        {{select-2
                            content='tags'
                            value=transaction.tags
                            optionValuePath='content.id'
                            optionLabelPath='content.name'
                            placeholder='Tags'
                            multiple=true
                        }}
                    </div>
                </div>
                <div class="form-group {{if errors.name 'has-error'}}">
                    <div class="control-label">
                        {{t 'note'}}
                    </div>
                    <div class="controls">
                        {{textarea value=transaction.note key-up='validateNote' maxlength='256'}}
                        {{#if noteCharacterLeft}}
                            <div class="text-muted">left: {{noteCharacterLeft}}</div>
                        {{/if}}
                        {{#each errors.note as |error|}}
                            <div class="error-message">{{error.message}}</div>
                        {{/each}}
                    </div>
                </div>
            </fieldset>
            <div id="tabs-2">
                <div display="block" id="att">
                    <br /> attach
                </div>
            </div>
        </section>
        <footer class="form-actions">
            <button class="btn" {{action 'cancel'}}>{{t 'cancel'}}</button>
            <button type="submit" class="btn btn-primary">{{t 'save'}}</button>
        </footer>
    </form>
</div>
